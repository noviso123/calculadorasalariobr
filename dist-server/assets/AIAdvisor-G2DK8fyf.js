import{jsxs as n,jsx as i}from"react/jsx-runtime";import{useState as c,useEffect as f}from"react";import v from"react-markdown";const m={tiers:[{min:0,max:3500,label:"Sobreviv√™ncia e Forma√ß√£o",strategy:"Foco total em seguran√ßa e reserva de oportunidade.",allocations:[{asset:"Tesouro Selic / CDI",percentage:100,description:"Liquidez di√°ria para emerg√™ncias.",risk:"Baixo"}],taxTip:"O Desconto Simplificado √© quase sempre o melhor caminho aqui."},{min:3501,max:7500,label:"Crescimento Conservador",strategy:"Prote√ß√£o contra infla√ß√£o e in√≠cio de diversifica√ß√£o.",allocations:[{asset:"CDBs / Tesouro Selic",percentage:60,description:"Reserva e previsibilidade.",risk:"Baixo"},{asset:"IPCA+",percentage:30,description:"Prote√ß√£o real contra o custo de vida.",risk:"Baixo"},{asset:"FIIs (Papel)",percentage:10,description:"Renda mensal isenta de IR.",risk:"M√©dio"}],taxTip:"Aten√ß√£o √† faixa de isen√ß√£o de 5k. Pequenos aportes em PGBL podem te manter isento."},{min:7501,max:15e3,label:"Consolida√ß√£o de Patrim√¥nio",strategy:"Equil√≠brio entre renda fixa e vari√°vel no Brasil.",allocations:[{asset:"IPCA+ e Prefixados",percentage:40,description:"Garantir taxas hist√≥ricas.",risk:"Baixo"},{asset:"A√ß√µes High Div (Brasil)",percentage:30,description:"S√≥cios de grandes empresas.",risk:"Alto"},{asset:"FIIs (Tijolo)",percentage:20,description:"Exposi√ß√£o ao mercado imobili√°rio f√≠sico.",risk:"M√©dio"},{asset:"D√≥lar (IVVB11)",percentage:10,description:"Prote√ß√£o cambial.",risk:"Alto"}],taxTip:"A declara√ß√£o completa (Modelo Legal) costuma ser vantajosa a partir daqui."},{min:15001,max:3e4,label:"Acelera√ß√£o Global",strategy:"Internacionaliza√ß√£o e otimiza√ß√£o fiscal agressiva.",allocations:[{asset:"Renda Fixa IPCA+",percentage:30,description:"Base s√≥lida em moeda local.",risk:"Baixo"},{asset:"Mercado Americano (S&P 500)",percentage:30,description:"Investimento na maior economia do mundo.",risk:"Alto"},{asset:"A√ß√µes e FIIs Brasil",percentage:30,description:"Gera√ß√£o de dividendos isentos.",risk:"Alto"},{asset:"Criptoativos (BTC/ETH)",percentage:10,description:"Assimetria de retorno.",risk:"Alto"}],taxTip:"PGBL at√© o limite de 12% da renda bruta √© obrigat√≥rio para otimiza√ß√£o m√°xima."},{min:30001,max:1/0,label:"Wealth Management",strategy:"Preserva√ß√£o de poder de compra e sucess√£o familiar.",allocations:[{asset:"Offshore / Global Portfolios",percentage:50,description:"Foco em Jurisdi√ß√µes fortes.",risk:"M√©dio"},{asset:"Private Equity / Real Estate",percentage:20,description:"Ativos alternativos de alto retorno.",risk:"Alto"},{asset:"Renda Fixa Estrat√©gica",percentage:30,description:"Aproveitar distor√ß√µes de juros locais.",risk:"Baixo"}],taxTip:"Estruturas de PJ (Holding) podem ser mais eficientes do que CPF para grandes patrim√¥nios."}]},h=async a=>{await new Promise(r=>setTimeout(r,800));const{net:s,type:o}=a;if(!s||s<=0)return"Aguardando dados para realizar a an√°lise financeira...";const t=m.tiers.find(r=>s>=r.min&&s<=r.max)||m.tiers[0];let e=`### $ Plano Financeiro Personalizado: ${t.label}

`;const l=s*.5,p=s*.3,u=s*.2;e+=`Para um or√ßamento equilibrado de **${d(s)}**, siga a regra 50-30-20:

`,e+=`- [H] **Necessidades (50%):** ${d(l)}
`,e+=`- [L] **Estilo de Vida (30%):** ${d(p)}
`,e+=`- [I] **Investimento (20%):** **${d(u)}**

`;const g=l*6;return e+=`#### # Prote√ß√£o e Reserva de Emerg√™ncia
`,e+=`Ideal: **${d(g)}** (para cobrir 6 meses de gastos essenciais).

`,e+=`#### > Estrat√©gia de Aloca√ß√£o (Perfil: ${t.label})
`,e+=`*${t.strategy}*

`,t.allocations.forEach(r=>{e+=`- **${r.percentage}% em ${r.asset}**: ${r.description} *[Risco: ${r.risk}]*
`}),e+=`
üí° **Dica Fiscal:** ${t.taxTip}

`,o==="vacation"?e+=`> **[!] Estrat√©gia de F√©rias:** Utilize o seu 1/3 extra para quitar d√≠vidas de curto prazo ou blindar sua reserva.
`:o==="thirteenth"?e+=`> **[*] Estrat√©gia de 13¬∫:** Como √© um rendimento de tributa√ß√£o exclusiva, √© o momento perfeito para aportar em **PGBL**.
`:o==="termination"?e+=`> **[$] Gest√£o de Rescis√£o:** Priorize liquidez absoluta (Tesouro Selic). N√£o trave este capital em ativos de prazo longo.
`:o==="irpf"&&(e+=`> **[#] Otimiza√ß√£o IRPF:** Pela sua renda, o mercado sugere ${s>7e3?"consultar o Modelo Legal":"manter o Modelo Simplificado"}.
`),e+=`
---
*Esta an√°lise utiliza dados do mercado financeiro e princ√≠pios de asset management. N√£o constitui recomenda√ß√£o direta de compra/venda de ativos.*`,e},d=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),P=({context:a})=>{const[s,o]=c(""),[t,e]=c(!1);return f(()=>{a?(e(!0),h(a).then(o).catch(()=>o("N√£o foi poss√≠vel gerar a an√°lise.")).finally(()=>e(!1))):o("")},[a==null?void 0:a.gross,a==null?void 0:a.type,a==null?void 0:a.net]),a?n("div",{className:"bg-slate-50 border border-slate-200 rounded-3xl p-6 md:p-8 shadow-sm transition-all hover:shadow-md mt-8 relative overflow-hidden group",children:[i("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-indigo-50 rounded-full opacity-50 group-hover:scale-110 transition-transform"}),i("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-3 relative z-10",children:n("div",{className:"flex items-center gap-3",children:[i("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 flex items-center justify-center text-white shadow-lg shadow-indigo-200",children:i("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n("div",{children:[i("h3",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Estrat√©gia do Especialista"}),n("div",{className:"flex items-center gap-2 mt-0.5",children:[i("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),i("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Atualizado: Fev 2026"})]})]})]})}),t?n("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[i("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),i("p",{className:"text-indigo-600 text-sm font-bold animate-pulse",children:"Consultando base de dados financeira..."})]}):i("div",{className:"prose prose-slate max-w-none text-slate-700 text-sm leading-relaxed bg-white/80 backdrop-blur-sm p-6 md:p-8 rounded-2xl border border-white shadow-inner relative z-10",children:i(v,{children:s})})]}):null};export{P as default};
