import{jsxs as l,jsx as t}from"react/jsx-runtime";import c from"react";import{ResponsiveContainer as o,PieChart as m,Pie as d,Cell as u,Tooltip as x}from"recharts";const f=({active:e,payload:r,totalGross:a})=>{if(e&&r&&r.length){const s=r[0].payload,n=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i);return l("div",{className:"bg-white p-3 border border-slate-100 shadow-xl rounded-xl",children:[t("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:s.name}),t("p",{className:"text-lg font-bold",style:{color:s.color},children:n(s.value)}),l("p",{className:"text-[10px] text-slate-400 mt-1",children:[(s.value/a*100).toFixed(1),"% do Bruto"]})]})}return null},b=c.memo(({data:e})=>{const r={NET:"#059669",INSS:"#dc2626",IRPF:"#ea580c",OTHERS:"#94a3b8"},a=[{name:"Salário Líquido",value:e.finalNetSalary,color:r.NET},{name:"INSS",value:e.inss,color:r.INSS},{name:"IRPF",value:e.irpf,color:r.IRPF},{name:"Outros/Saúde",value:e.healthInsurance+e.otherDiscounts+e.transportVoucher+e.consignedDiscount,color:r.OTHERS}].filter(n=>n.value>0),s=n=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n);return l("div",{className:"w-full h-full flex flex-col md:flex-row items-center justify-between gap-6",children:[l("div",{className:"relative h-48 w-48 md:h-56 md:w-56 flex-shrink-0",children:[t(o,{width:"100%",height:"100%",children:l(m,{children:[t(d,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",stroke:"none",cornerRadius:4,children:a.map((n,i)=>t(u,{fill:n.color},`cell-${i}`))}),t(x,{content:t(f,{totalGross:e.grossSalary+e.totalExtras}),cursor:{fill:"transparent"}})]})}),l("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[t("span",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Líquido"}),t("span",{className:"text-lg md:text-xl font-extrabold text-emerald-600",children:new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.finalNetSalary)}),t("span",{className:"text-[10px] text-emerald-600/60 font-medium",children:"Reais"})]})]}),l("div",{className:"flex-1 w-full grid grid-cols-1 gap-3",children:[l("div",{className:"flex items-center justify-between p-2 rounded-lg bg-emerald-50 border border-emerald-100",children:[l("div",{className:"flex items-center gap-2",children:[t("div",{className:"w-3 h-3 rounded-full bg-emerald-600"}),t("span",{className:"text-xs font-bold text-emerald-900",children:"Salário Líquido"})]}),t("span",{className:"text-sm font-bold text-emerald-700",children:s(e.finalNetSalary)})]}),l("div",{className:"flex items-center justify-between p-2 border-b border-slate-50",children:[l("div",{className:"flex items-center gap-2",children:[t("div",{className:"w-3 h-3 rounded-full bg-red-600"}),t("span",{className:"text-xs font-medium text-slate-600",children:"INSS (Previdência)"})]}),t("span",{className:"text-sm font-semibold text-slate-700",children:s(e.inss)})]}),l("div",{className:"flex items-center justify-between p-2 border-b border-slate-50",children:[l("div",{className:"flex items-center gap-2",children:[t("div",{className:"w-3 h-3 rounded-full bg-orange-600"}),t("span",{className:"text-xs font-medium text-slate-600",children:"IRPF (Imposto de Renda)"})]}),t("span",{className:"text-sm font-semibold text-slate-700",children:s(e.irpf)})]}),e.healthInsurance+e.otherDiscounts+e.transportVoucher+e.consignedDiscount>0&&l("div",{className:"flex items-center justify-between p-2",children:[l("div",{className:"flex items-center gap-2",children:[t("div",{className:"w-3 h-3 rounded-full bg-slate-400"}),t("span",{className:"text-xs font-medium text-slate-600",children:"Outros Descontos"})]}),t("span",{className:"text-sm font-semibold text-slate-700",children:s(e.healthInsurance+e.otherDiscounts+e.transportVoucher+e.consignedDiscount)})]})]})]})});export{b as default};
